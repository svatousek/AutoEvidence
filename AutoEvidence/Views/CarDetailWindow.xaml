<!--
Pseudokód (plán oprav):
- Escapovat ampersand v textu: "Stav & další" -> "Stav &amp; další".
- Odstranit nepodporované atributy 'Spacing' ze všech StackPanel.
  - Nahradit odsazení mezi prvky pomocí Margin na dětech (např. první prvek bez margin, další mají Margin="8,0,0,0" nebo "12,0,0,0").
- Ellipse nepodporuje přímý obsah -> vytvořit obrys jako samostatný prvek a překrýt TextBlock (Grid s Ellipse + TextBlock).
- Upravit odpovídající StackPanely pro správné mezery a zarovnání.
- Výsledkem je syntakticky validní XAML bez XDG/XLS chyb.
-->

<Window x:Class="AutoEvidence.Views.CarDetailWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Detail vozidla" Height="600" Width="1000"
        Background="#0f1724" WindowStartupLocation="CenterScreen">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#0b1220" CornerRadius="8" Padding="12" Margin="0,0,0,12">
            <DockPanel>
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Left" VerticalAlignment="Center">
                    <Grid Width="44" Height="44" VerticalAlignment="Center">
                        <Ellipse Fill="#2563EB"/>
                        <TextBlock Text="🚗" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="20" TextAlignment="Center"/>
                    </Grid>

                    <StackPanel Margin="12,0,0,0">
                        <TextBlock Text="Detail vozidla" FontSize="18" Foreground="White" FontWeight="SemiBold"/>
                        <TextBlock Text="Zobrazit a upravit informace o vozidle" FontSize="12" Foreground="#94a3b8"/>
                    </StackPanel>
                </StackPanel>

                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right" HorizontalAlignment="Right" VerticalAlignment="Center">
                    <Button Content="Zavřít" Width="90" Height="32" Margin="8,0,0,0" Background="#0b1220" Foreground="#94a3b8" BorderBrush="#223046"/>
                </StackPanel>
            </DockPanel>
        </Border>

        <!-- Main content -->
        <Border Grid.Row="1" Background="#08111a" CornerRadius="8" Padding="16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="300"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="300"/>
                </Grid.ColumnDefinitions>

                <!-- Left: Details card -->
                <Border Grid.Column="0" Background="#f8fafc" CornerRadius="8" Padding="12" Margin="0,0,12,0" >
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel>
                            <TextBlock Text="Základní informace" FontWeight="SemiBold" Foreground="#0f1724" FontSize="14" Margin="0,0,0,8"/>
                            <StackPanel Margin="0,4,0,8">
                                <TextBlock Text="Značka" Foreground="#0f1724" FontSize="12"/>
                                <TextBox Text="Škoda" Margin="0,4,0,8"/>
                                <TextBlock Text="Model" Foreground="#0f1724" FontSize="12"/>
                                <TextBox Text="Octavia" Margin="0,4,0,8"/>
                                <TextBlock Text="Rok výroby" Foreground="#0f1724" FontSize="12"/>
                                <ComboBox SelectedIndex="0" Margin="0,4,0,8">
                                    <ComboBoxItem Content="2024"/>
                                    <ComboBoxItem Content="2023"/>
                                    <ComboBoxItem Content="2022"/>
                                </ComboBox>
                                <TextBlock Text="SPS" Foreground="#0f1724" FontSize="12"/>
                                <TextBox Text="4A2 1234" Margin="0,4,0,8"/>
                                <TextBlock Text="VIN" Foreground="#0f1724" FontSize="12"/>
                                <TextBox Text="TMBAB67X0D1234567" Margin="0,4,0,8"/>
                                <TextBlock Text="Barva" Foreground="#0f1724" FontSize="12"/>
                                <ComboBox Margin="0,4,0,8">
                                    <ComboBoxItem Content="Červená"/>
                                    <ComboBoxItem Content="Modrá"/>
                                    <ComboBoxItem Content="Stříbrná"/>
                                </ComboBox>
                            </StackPanel>

                            <Separator Margin="0,8,0,8"/>

                            <TextBlock Text="Servisní informace" FontWeight="SemiBold" Foreground="#0f1724" FontSize="14" Margin="0,0,0,8"/>
                            <StackPanel>
                                <TextBlock Text="Poslední servis" Foreground="#0f1724" FontSize="12"/>
                                <TextBox Text="2025-01-15" Margin="0,4,0,8"/>
                                <TextBlock Text="STK do" Foreground="#0f1724" FontSize="12"/>
                                <TextBox Text="2026-07-10" Margin="0,4,0,8"/>
                            </StackPanel>
                        </StackPanel>
                    </ScrollViewer>
                </Border>

                <!-- Center: Photo -->
                <Border Grid.Column="1" Background="#0b1220" CornerRadius="8" Padding="16">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="Fotografie vozidla" Foreground="#e6eef8" FontSize="14" FontWeight="SemiBold" Margin="0,0,0,12"/>

                        <Border Grid.Row="1" Background="#f8fafc" CornerRadius="8" Padding="8" HorizontalAlignment="Center" VerticalAlignment="Center" Width="420" Height="300" >
                            <Grid>
                                <Image x:Name="CarImage" Stretch="Uniform" Source="/Assets/car-placeholder.png" Margin="50,0,50,2"/>
                                <TextBlock Text="Žádná fotografie" Foreground="#64748B" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="16" Visibility="Collapsed" />
                            </Grid>
                        </Border>

                        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,12,0,0">
                            <Button Width="93" Height="36" Background="#2563EB" Foreground="White" BorderThickness="0">Nahrát foto</Button>
                            <Button Width="93" Height="36" Margin="8,0,0,0" Background="Red" Foreground="white" BorderBrush="#223046">Odebrat</Button>
                            <Button Width="93" Height="36" Margin="8,0,0,0" Background="#10B981" Foreground="White" BorderThickness="0">Náhled</Button>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Right: Additional info -->
                <Border Grid.Column="2" Background="#f8fafc" CornerRadius="8" Padding="12" Margin="12,0,0,0">
                    <StackPanel>
                        <TextBlock Text="Stav &amp; další" FontWeight="SemiBold" Foreground="#0f1724" FontSize="14" Margin="0,0,0,8"/>
                        <StackPanel Margin="0,4,0,8">
                            <TextBlock Text="Pojištění" Foreground="#0f1724" FontSize="12"/>
                            <TextBox Text="Platné do 2025-12-31" Margin="0,4,0,8"/>
                            <TextBlock Text="STK" Foreground="#0f1724" FontSize="12"/>
                            <TextBox Text="Bez závad" Margin="0,4,0,8"/>
                            <TextBlock Text="Najeto (km)" Foreground="#0f1724" FontSize="12"/>
                            <TextBox Text="124500" Margin="0,4,0,8"/>
                        </StackPanel>

                        <Separator Margin="0,8,0,8"/>

                        <TextBlock Text="Poznámky" FontWeight="SemiBold" Foreground="#0f1724" FontSize="14" Margin="0,0,0,8"/>
                        <TextBox AcceptsReturn="True" Height="120" TextWrapping="Wrap" Text="Zde můžete přidat poznámky k vozidlu."/>

                        <Separator Margin="0,8,0,8"/>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                            <Ellipse Width="12" Height="12" Fill="#10B981" VerticalAlignment="Center"/>
                            <TextBlock Text="Aktivní" VerticalAlignment="Center" Foreground="#0f1724" Margin="8,0,0,0"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>

        <!-- Footer: akční tlačítka -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
            <Button Width="100" Height="36" Background="#94a3b8" Foreground="White" BorderThickness="0">Zrušit</Button>
            <Button Width="100" Height="36" Margin="8,0,0,0" Background="#ef4444" Foreground="White" BorderThickness="0">Smazat</Button>
            <Button Width="110" Height="36" Margin="8,0,0,0" Background="#2563EB" Foreground="White" BorderThickness="0">Uložit</Button>
        </StackPanel>
    </Grid>
</Window>